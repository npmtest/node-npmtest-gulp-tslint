<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-gulp-tslint/node_modules/gulp-tslint/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-gulp-tslint">npmtest-gulp-tslint (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-gulp-tslint/node_modules/gulp-tslint/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">6.45% <small>(6 / 93)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 64)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 11)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">6.45% <small>(6 / 93)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-gulp-tslint/node_modules/gulp-tslint/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*jshint node:true */
/*jshint nomen: true */
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// Requires
var TSLint = require("tslint");
// import * as vinyl from "vinyl";
<span class="cstat-no" title="statement not covered" >var through = require("through");</span>
<span class="cstat-no" title="statement not covered" >var gutil = require("gulp-util");</span>
<span class="cstat-no" title="statement not covered" >var PluginError = gutil.PluginError;</span>
<span class="cstat-no" title="statement not covered" >var map = require("map-stream");</span>
/**
 * Helper function to check if a value is a function
 * @param {any} value to check whether or not it is a function
 * @returns {boolean} Returns true if the value is a function
 */
<span class="fstat-no" title="function not covered" >function isFunction(value) {</span>
<span class="cstat-no" title="statement not covered" >    return Object.prototype.toString.call(value) === "[object Function]";</span>
}
/**
 * Helper function to check if a value is a string
 * @param {any} value to check whether or not it is a string
 * @returns {boolean} Returns true if the value is a string
 */
<span class="fstat-no" title="function not covered" >function isString(value) {</span>
<span class="cstat-no" title="statement not covered" >    return Object.prototype.toString.call(value) === "[object String]";</span>
}
/**
 * Returns the TSLint from the options, or if not set, the default TSLint.
 * @param {PluginOptions} options
 * @returns {any} TSLint module
 */
<span class="fstat-no" title="function not covered" >function getTslint(options) {</span>
<span class="cstat-no" title="statement not covered" >    if (options &amp;&amp; options.tslint) {</span>
<span class="cstat-no" title="statement not covered" >        return options.tslint;</span>
    }
<span class="cstat-no" title="statement not covered" >    return TSLint;</span>
}
/**
 * Log an event or error using gutil.log.
 * @param {string} message the log message.
 * @param {string} level can be "error". Optional.
 * Leave empty for the default logging type.
 */
<span class="fstat-no" title="function not covered" >function log(message, level) {</span>
<span class="cstat-no" title="statement not covered" >    var prefix = "[" + gutil.colors.cyan("gulp-tslint") + "]";</span>
<span class="cstat-no" title="statement not covered" >    if (level === "error") {</span>
<span class="cstat-no" title="statement not covered" >        gutil.log(prefix, gutil.colors.red("error"), message);</span>
    }
    else {
<span class="cstat-no" title="statement not covered" >        gutil.log(prefix, message);</span>
    }
}
/*
 * Convert a failure to the prose error format.
 * @param {RuleFailure} failure
 * @returns {string} The failure in the prose error formar.
 */
<span class="cstat-no" title="statement not covered" >var proseErrorFormat = <span class="fstat-no" title="function not covered" >function (failure) {</span></span>
<span class="cstat-no" title="statement not covered" >    var fileName = failure.getFileName();</span>
<span class="cstat-no" title="statement not covered" >    var failureString = failure.getFailure();</span>
<span class="cstat-no" title="statement not covered" >    var lineAndCharacter = failure.getStartPosition().getLineAndCharacter();</span>
<span class="cstat-no" title="statement not covered" >    var line = lineAndCharacter.line + 1;</span>
<span class="cstat-no" title="statement not covered" >    var character = lineAndCharacter.character + 1;</span>
<span class="cstat-no" title="statement not covered" >    return fileName + " [" + line + ", " + character + "]: " + failureString;</span>
};
/**
 * Main plugin function
 * @param {PluginOptions} [pluginOptions] contains the options for gulp-tslint.
 * Optional.
 * @returns {any}
 */
<span class="cstat-no" title="statement not covered" >var tslintPlugin = <span class="fstat-no" title="function not covered" >function (pluginOptions) {</span></span>
<span class="cstat-no" title="statement not covered" >    var loader;</span>
<span class="cstat-no" title="statement not covered" >    var tslint;</span>
    // If user options are undefined, set an empty options object
<span class="cstat-no" title="statement not covered" >    if (!pluginOptions) {</span>
<span class="cstat-no" title="statement not covered" >        pluginOptions = {};</span>
    }
<span class="cstat-no" title="statement not covered" >    return map(<span class="fstat-no" title="function not covered" >function (file, cb) {</span></span>
        // Skip
<span class="cstat-no" title="statement not covered" >        if (file.isNull()) {</span>
<span class="cstat-no" title="statement not covered" >            return cb(null, file);</span>
        }
        // Stream is not supported
<span class="cstat-no" title="statement not covered" >        if (file.isStream()) {</span>
<span class="cstat-no" title="statement not covered" >            return cb(new PluginError("gulp-tslint", "Streaming not supported"));</span>
        }
        // TSLint default options
<span class="cstat-no" title="statement not covered" >        var options = {</span>
            fix: pluginOptions.fix || false,
            formatter: pluginOptions.formatter || "prose",
            formattersDirectory: pluginOptions.formattersDirectory || null,
            rulesDirectory: pluginOptions.rulesDirectory || null
        };
<span class="cstat-no" title="statement not covered" >        var linter = getTslint(pluginOptions);</span>
<span class="cstat-no" title="statement not covered" >        if (pluginOptions.configuration === null ||</span>
            pluginOptions.configuration === undefined ||
            isString(pluginOptions.configuration)) {
            // configuration can be a file path or null, if it's unknown
<span class="cstat-no" title="statement not covered" >            pluginOptions.configuration = linter.Configuration.findConfiguration(pluginOptions.configuration || null, file.path).results;</span>
        }
<span class="cstat-no" title="statement not covered" >        tslint = new linter.Linter(options, pluginOptions.program);</span>
<span class="cstat-no" title="statement not covered" >        tslint.lint(file.path, file.contents.toString("utf8"), pluginOptions.configuration);</span>
<span class="cstat-no" title="statement not covered" >        file.tslint = tslint.getResult();</span>
        // Pass file
<span class="cstat-no" title="statement not covered" >        cb(null, file);</span>
    });
};
<span class="cstat-no" title="statement not covered" >tslintPlugin.report = <span class="fstat-no" title="function not covered" >function (options) {</span></span>
    // Default options
<span class="cstat-no" title="statement not covered" >    if (!options) {</span>
<span class="cstat-no" title="statement not covered" >        options = {};</span>
    }
<span class="cstat-no" title="statement not covered" >    if (options.emitError === undefined) {</span>
<span class="cstat-no" title="statement not covered" >        options.emitError = true;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (options.reportLimit === undefined) {</span>
        // 0 or less is unlimited
<span class="cstat-no" title="statement not covered" >        options.reportLimit = 0;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (options.summarizeFailureOutput === undefined) {</span>
<span class="cstat-no" title="statement not covered" >        options.summarizeFailureOutput = false;</span>
    }
    // Collect all files with errors
<span class="cstat-no" title="statement not covered" >    var errorFiles = [];</span>
    // Collect all failures
<span class="cstat-no" title="statement not covered" >    var allFailures = [];</span>
    // Track how many errors have been reported
<span class="cstat-no" title="statement not covered" >    var totalReported = 0;</span>
    // Log formatted output for each file individually
<span class="cstat-no" title="statement not covered" >    var reportFailures = <span class="fstat-no" title="function not covered" >function (file) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (file.tslint) {</span>
            // Version 5.0.0 of tslint no longer has a failureCount member
            // It was renamed to errorCount. See tslint issue #2439
<span class="cstat-no" title="statement not covered" >            var failureCount = file.tslint.errorCount + file.tslint.warningCount;</span>
<span class="cstat-no" title="statement not covered" >            if (failureCount &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                errorFiles.push(file);</span>
<span class="cstat-no" title="statement not covered" >                Array.prototype.push.apply(allFailures, file.tslint.failures);</span>
<span class="cstat-no" title="statement not covered" >                if (options.reportLimit &lt;= 0 || (options.reportLimit &amp;&amp; options.reportLimit &gt; totalReported)) {</span>
<span class="cstat-no" title="statement not covered" >                    if (file.tslint.output !== undefined) {</span>
<span class="cstat-no" title="statement not covered" >                        console.log(file.tslint.output);</span>
                    }
<span class="cstat-no" title="statement not covered" >                    totalReported += failureCount;</span>
<span class="cstat-no" title="statement not covered" >                    if (options.reportLimit &gt; 0 &amp;&amp;</span>
                        options.reportLimit &lt;= totalReported) {
<span class="cstat-no" title="statement not covered" >                        log("More than " + options.reportLimit</span>
                            + " failures reported. Turning off reporter.");
                    }
                }
            }
        }
        // Pass file
<span class="cstat-no" title="statement not covered" >        this.emit("data", file);</span>
    };
    /**
     * After reporting on all files, throw the error.
     */
<span class="cstat-no" title="statement not covered" >    var throwErrors = <span class="fstat-no" title="function not covered" >function () {</span></span>
        // Throw error
<span class="cstat-no" title="statement not covered" >        if (options &amp;&amp; errorFiles.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >            var failuresToOutput = allFailures;</span>
<span class="cstat-no" title="statement not covered" >            var ignoreFailureCount = 0;</span>
            // If error count is limited, calculate number of errors not shown and slice reportLimit
            // number of errors to be included in the error.
<span class="cstat-no" title="statement not covered" >            if (options.reportLimit &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                ignoreFailureCount = allFailures.length - options.reportLimit;</span>
<span class="cstat-no" title="statement not covered" >                failuresToOutput = allFailures.slice(0, options.reportLimit);</span>
            }
            // Always use the proseErrorFormat for the error.
<span class="cstat-no" title="statement not covered" >            var failureOutput = failuresToOutput.map(<span class="fstat-no" title="function not covered" >function (failure) {</span></span>
<span class="cstat-no" title="statement not covered" >                return proseErrorFormat(failure);</span>
            }).join(", ");
<span class="cstat-no" title="statement not covered" >            var errorOutput = "Failed to lint: ";</span>
<span class="cstat-no" title="statement not covered" >            if (options.summarizeFailureOutput) {</span>
<span class="cstat-no" title="statement not covered" >                errorOutput += failuresToOutput.length + " errors.";</span>
            }
            else {
<span class="cstat-no" title="statement not covered" >                errorOutput += failureOutput + ".";</span>
            }
<span class="cstat-no" title="statement not covered" >            if (ignoreFailureCount &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                errorOutput += " (" + ignoreFailureCount</span>
                    + " other errors not shown.)";
            }
<span class="cstat-no" title="statement not covered" >            if (options.emitError === true) {</span>
<span class="cstat-no" title="statement not covered" >                return this.emit("error", new PluginError("gulp-tslint", errorOutput));</span>
            }
            else <span class="cstat-no" title="statement not covered" >if (options.summarizeFailureOutput) {</span>
<span class="cstat-no" title="statement not covered" >                log(errorOutput);</span>
            }
        }
        // Notify through that we're done
<span class="cstat-no" title="statement not covered" >        this.emit("end");</span>
    };
<span class="cstat-no" title="statement not covered" >    return through(reportFailures, throwErrors);</span>
};
<span class="cstat-no" title="statement not covered" >exports.default = tslintPlugin;</span>
// ES5/ES6 fallbacks
<span class="cstat-no" title="statement not covered" >module.exports = tslintPlugin;</span>
<span class="cstat-no" title="statement not covered" >module.exports.default = tslintPlugin;</span>
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Sun Apr 23 2017 11:51:32 GMT+0000 (UTC)</div>
</div>
</body>
</html>
